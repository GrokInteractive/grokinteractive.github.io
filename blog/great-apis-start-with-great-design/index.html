<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
<title>Grok Interactive, LLC | Great APIs Start with a Great Design</title>
<meta name="description" content="">
<meta name="author" content="Grok Interactive, LLC">

<meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
<meta http-equiv="Content-Language" content="en" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="MS.LOCALE" content="EN-US" />
<meta name="robots" content="index,follow" />
<meta name="URL" content="http://www.grok-interactive.com" />
<meta name="revisit-after" content="10 days" />
<meta property="fb:admins" content="621293620"/>
<meta property="fb:admins" content="710704899"/>
<meta property="fb:admins" content="440639386014676"/>

<link rel='stylesheet' href='http://fonts.googleapis.com/css?family=Open+Sans:400,700,800,300|Open+Sans+Condensed:300' type='text/css' />
<link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.0.3/css/font-awesome.min.css' type='text/css' media='all' />

<link href='/assets/global-774ec90f227f06ee9dfde64e8d529514.css' rel='stylesheet' type='text/css' />

<link rel="apple-touch-icon-precomposed" sizes="57x57" href="/images/favicons/apple-touch-icon-57x57.png" />
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/favicons/apple-touch-icon-114x114.png" />
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/favicons/apple-touch-icon-72x72.png" />
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/favicons/apple-touch-icon-144x144.png" />
<link rel="apple-touch-icon-precomposed" sizes="60x60" href="/images/favicons/apple-touch-icon-60x60.png" />
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="/images/favicons/apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon-precomposed" sizes="76x76" href="/images/favicons/apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="/images/favicons/apple-touch-icon-152x152.png" />
<link rel="icon" type="image/png" href="/images/favicons/favicon-196x196.png" sizes="196x196" />
<link rel="icon" type="image/png" href="/images/favicons/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/png" href="/images/favicons/favicon-32x32.png" sizes="32x32" />
<link rel="icon" type="image/png" href="/images/favicons/favicon-16x16.png" sizes="16x16" />
<link rel="icon" type="image/png" href="/images/favicons/favicon-128.png" sizes="128x128" />
<meta name="application-name" content="Grok Interactive, LLC"/>
<meta name="msapplication-TileColor" content="#000000" />
<meta name="msapplication-TileImage" content="/assets/img/favicons/mstile-144x144.png" />
<meta name="msapplication-square70x70logo" content="/assets/img/favicons/mstile-70x70.png" />
<meta name="msapplication-square150x150logo" content="/assets/img/favicons/mstile-150x150.png" />
<meta name="msapplication-wide310x150logo" content="/assets/img/favicons/mstile-310x150.png" />
<meta name="msapplication-square310x310logo" content="/assets/img/favicons/mstile-310x310.png" />

</head>

<body style="display: none;">

  <div id="wrap">
    <div id="main">
      <header>
        <div class="navbar navbar-inverse navbar-static-top">
          <div class="navbar-inner">
            <div class="container">
              <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="brand grok-logo" href="/">Grok Interactive, LLC Home Page</a>
              <div class="nav-collapse collapse pull-right">
                <ul class="nav">
                  <li class='blog active'><a href="/blog/">Blog</a></li>
                  <li class='careers'><a href="/careers/">Careers</a></li>
                  <li class='about'><a href="/#about" class='slide'>About</a></li>
                  <li class='service'><a href="/#service" class='slide'>Service</a></li>
                  <li class='work'><a href="/#work" class='slide'>Work</a></li>
                  <li class='contact'><a href="/#contact" class='slide'>Contact</a></li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </header>

      <div class="content">
  <div class="container">
    <div class="inner">
      <div class="canvas">

        <div class="columns">
          <div class="col c70">

            
            

            <div class="canvas">

              <div class="post">

                <h1><a href="/blog/great-apis-start-with-great-design/" rel="bookmark" title="Link to Great APIs Start with a Great Design">Great APIs Start with a Great Design</a></h1>
                <h5>by <a href="/blog/author/jason-straughan" class="author">Jason Straughan</a>
                  &nbsp;&nbsp;&nbsp;<strong>Jun 02, 2015</strong>&nbsp;&nbsp;&nbsp;
                  
                  <i class="icon fa fa-folder" title="Categories"></i>
                  
                  <a href="/blog/category/software_development/" class="category">Software development</a>
                  
                  

                  
                  <i class="icon fa fa-tags" title="Tags"></i>
                  
                  <a href="/blog/tag/developers/" class="tag">Developers</a>
                  
                  

                  
                </h5>

                <div class=''>

                  
                  <img src="/images/2015/06/Professor_Lucifer_Butts.gif" width="150" height="150" class="pull-right" />
                  

                  <p>Everyday the web becomes more connected; not just in the sense of more nodes, more people, and more content, but in the sense of being interconnected. Web services and <a href="http://en.wikipedia.org/wiki/Application_programming_interface">APIs (Application Program Interfaces)</a> allow  access to an application&#39;s features, usually for integration into other applications. When you use an app to share something on Facebook, login with Google, or upload a photo to Flickr, for example, there is an API in use. </p>

<p>As web developers, we spend more time every year interacting with these third-party services to handle everything from credit card processing to blog comments. More web applications and services mean more APIs. </p>

<p>Unfortunately very few of these APIs are easy to work with, it is like <a href="http://en.wikipedia.org/wiki/Rube_Goldberg_machine">Rube Goldberg invented the School of API Architecture</a>. Behind every mobile, web, or desktop application is code, and that code was written by a human. The design of these APIs means a lot to the people that write applications.</p>

<h3>A Means to an Endpoint</h3>

<p>Most APIs we encounter seem like an afterthought. It appears the typical API planning meeting goes like this:</p>

<blockquote>
<p>Sales Team: That new web site app thingy we launched is going great. Lets create one of those new-fangled API on Ajaxes so we can be cool, like Microsoft.</p>

<p>Mobile Team: As much as we hate to agree with Bob, having an API would allow us to harness all the power of the web app&#39;s backend with a clean native experience.</p>

<p>Web Team: Sure, can we have time to design this properly and roll it out in stages? We want this to be done right.</p>

<p>Sales Team: You already wrote all that CRUD stuff, just expose that and everyone will be happy. I bet you can have it up and running by lunchtime.</p>
</blockquote>

<p>So what we end up with are basically web view variables dumped as JSON and endpoints that expect the exact information that is in some web form for all creates and updates.</p>

<p>Making the assumption that the API should just reflect the controller actions of the web application is rarely the best solution, believe me, we&#39;ve tried. An API should not just be a means to an end, shoehorned in months after launch. An API should be well thought out, with each endpoint handling one task, and each namespace grouping actions into intelligent classifications.</p>

<p>Exploring use cases and developing a sound API architecture should be the first step in rolling out any interface to your software. Considering the needs of the consumer, planning out the URI and endpoints prior to writing code, determining required fields, mocking up return values, and defining response handling are all vital to a successful API.</p>

<h3>The Art of Discovery</h3>

<p>Finding your way around an API should not be like Columbus discovering the New World. Developers are notorious for releasing or updating features prior to updating the docs, if the docs ever get updated at all. This makes learning the ins and outs of web APIs a process of discovery, which some systems could use help on making easier.</p>

<p>A well written API should essentially be self documenting. A list of namespaces, endpoints, and example requests and responses will act as a map for the future voyages of other developers into the worlds you create. I am not advocating dumping the docs, but at the very least follow some convention and style to make the process easier.</p>

<p>As developers, we spend most of our lives naming things: variables, classes, functions, filenames, and every other thing that requires a name. We strive to assign names that make sense and will remind us of what the thing in question is doing. Some developers argue that well written code needs no documentation, though that discussion has been known to end in flame-wars of epic proportions.</p>

<p>If we craft our endpoints with this same mindset, everything else seems to fall into place and makes more sense to the implementing developer. The documentation is easier to consume when the naming conventions follow common sense. Responses that return consistently formated data result in happier developers. Lastly, error codes and messages that can be understood by a human are paramount.</p>

<h4>418 &mdash; I&#39;m a Teapot</h4>

<p>Once the appropriate endpoint has been found, one must figure out how to communicate with it. There is nothing like sending what appears to be a properly formed request to a documented endpoint and getting a response like</p>

<blockquote>
<p>99999 - Error</p>
</blockquote>

<p>First of all, the Phoenicians invented <a href="http://en.wikipedia.org/wiki/List_of_HTTP_status_codes">HTTP Status Codes</a> right after the written alphabet, they have been around forever so do not be afraid to use them. If you are going to use a custom status code, like <code>99999</code>, please be kind enough to provide a good error message.</p>

<p>In that particular case we were passing expired credentials. A simple <code>401 - Unauthorized</code> would have been a lot more helpful. If you are authoring an API, please be compassionate to your users &mdash; call it professional courtesy. </p>

<p>It is much easier to handle errors programmatically when different errors have different codes or messages. The support staff will get less emails if the words in the error message actually mean something, and the final product will be less brittle.</p>

<p>Like endpoints, your API&#39;s error messages should be well thought out and reflect a level of sophistication that represents your underlying product.</p>

<h4>Moving Targets</h4>

<p>APIs should be reliable, period. If we build an application that is in production, we expect it to work all the time. If a third-party API changes, especially without notice, our production server is affected, usually in a bad way.</p>

<p>There are some things that we realize are going to happen from time to time with various 3rd party services. While some outages or other issues are hard to predict, breaking changes to an API are something the development team has full control over. </p>

<p>Versioning, deprecating features, staged rollouts, even postcards with notification of pending changes written in <a href="http://en.wikipedia.org/wiki/Vogon#Poetry">Vogon poetry</a> are better than just making breaking changes to APIs that people are using without notice. Developers are depending on these services, they should should not be a moving target.</p>

<h3>Sensible Security</h3>

<p>Recently we interacted with a third-party web API that had some very strenuous authentication and security restrictions. For each request, we had to use white-listed IP addresses, pass authentication headers with preassigned keys on top of OAuthing, and send a signed certificate with each request. It seems like each time they heard of a new way of authentication, they just added it to the stack like a door with 15 deadbolts on it.</p>

<p>In one of my lectures on security at <a href="http://codeup.com/">Codeup</a>, I have the students envision the most secure house they could possibly conceive. Think of moats with drawbridges, filled with sharks armed with lasers beams on their heads, rocket turrets everywhere, razor wire fences, biometric locks, concrete doors two feet thick. Think of the kind of place you would want to be if the zombie apocalypse broke out at the same time as World War III.</p>

<p>Then we talk about what that house would be like if we were driving back from the grocery store, in torrential rain, with two screaming infants in the back seat. The entry process to make it through security would make our house almost unusable, and under normal, peace-time conditions that level of security makes for a bad user experience.</p>

<p>A good design can strike a balance between security and usability, especially for API users. Developing a strategy that makes sense for your product and market while maintaining a usable interface is very important. Stripe has one of best designed APIs on the market, and they process millions of dollars in transactions without the razor wire and hellfire missiles. </p>

<h2>The Solution?</h2>

<p>How do we overcome the thrown together heap of endpoints with super-max security restrictions that are constantly changing and throwing error messages that require the Rosetta Stone and a team of engineers to decipher?</p>

<p>We simply need to rethink the approach to API architecture.</p>

<h3>API First</h3>

<p>Before wearables and mobile devices, there was the simple web, the thin web, and it was all about the screen. We developed the web for the screen, and sometimes the pesky printer, and all was good. Then came mobile, and the <em>mobile first</em> movement. </p>

<p>Now, in the time of mobile app wonderland, wearable tech, interconnected everything, and front-end MVCs galore, we expect a popular application to have tailored experiences for each device. To achieve this with equal sophistication and elegance we must design the API to be robust, not just expose the web app&#39;s endpoints. Embracing an API first mentality is important to staying nimble in the ever changing world where consumption methods grow almost daily.</p>

<h3>Embrace Hypermedia</h3>

<p>Using hypermedia to build your API can solve the painful problems associated with API versioning and discoverability.  </p>

<p>Many services claim to provide RESTful interfaces or APIs.  Often times, this only means that they use HTTP methods like <code>PUT/PATCH/DELETE</code> (in addition to <code>GET/POST</code>) and ignore hypermedia altogether.  Hypermedia usage is a <strong>constraint</strong> of REST, not optional or a nice-to-have.  If you are building a RESTful API, but you are not using hypermedia, it&#39;s not <a href="http://en.wikipedia.org/wiki/Representational_state_transfer">REST</a>. </p>

<p>By serving hypermedia, your API can change independently of any clients without suffering the effects of backwards incompatibility.</p>

<p>There are several existing and emerging conventions and specifications for API responses, including:</p>

<ul>
<li><a href="http://en.wikipedia.org/wiki/Atom_%28standard%29">Atom</a></li>
<li><a href="http://en.wikipedia.org/wiki/Hypertext_Application_Language">Hypertext Application Language</a></li>
<li><a href="http://amundsen.com/media-types/collection/format/">Collection+JSON Document Format</a></li>
<li><a href="http://jsonapi.org/">JSON-API</a></li>
</ul>

<p>If your API has endpoints like <code>/api/v1/resource</code> to indicate different document structures, something is likely wrong. Love your users, love your clients, serve hypermedia.</p>

<h3>API4H &mdash; Application Program Interfaces for Humans</h3>

<p>Remember, before your API is being used by a program, it is first being consumed by a programmer. Until servers become sentient we rely on humans to understand the services they are integrating before they can automate the processes.</p>

<p>By designing your APIs for human consumption, and as a foundation for your application versus an add-on, you make happier developers and increase the likelihood of people building applications around your services.</p>

<h4>Shameless Plug</h4>

<p>At Grok Interactive, we design and build custom APIs for our clients. If you need assistance creating a back-end solution for your mobile or web application, please do not hesitate to <a href="http://www.grok-interactive.com/#contact">contact us for assistance</a>.</p>

<p>Special thanks to <a href="http://www.grok-interactive.com/blog/author/josh-freeman/">Josh Freeman</a> and the rest of the <a href="http://www.grok-interactive.com/#about">Grok team</a> on this blog post.</p>


                </div>

                

                <hr />

                
                
                <div class="author-profile">
  <div class="about">
    <em>ABOUT THE AUTHOR</em><br/>
    <strong>Jason Straughan</strong><br/>
    <p>The CEO of Grok Interactive, Jason is a long-time programmer, mentor, and teacher who has worked with all manner of proven talent in web and mobile application development.</p>
    <p>He is the author of "Beginning Kohana 3.0 Development" for Packt Publishing, co-founder of <a href="http://codeup.com">Codeup.com</a>, and organizer of the <a href="http://www.meetup.com/sawebdev/">San Antonio Web Developer Meetup</a>.</p>
  </div>
  <img src="/images/portrait-jason-straughan.jpg" />
</div>

                

                
<h3>Comments</h3>
<hr />
<!-- https://developers.facebook.com/docs/reference/plugins/comments/ -->
<div class='comments'>
  <div id="disqus_thread"></div>
  <script type="text/javascript">
      /* * * CONFIGURATION VARIABLES * * */
      var disqus_shortname = 'grokinteractive';

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
</div>



              </div>
            </div>


          </div>

          <div class="col c30">

            <div class="well">
  <h4><i class="icon fa fa-folder" title="Categories"></i> Categories</h4>
  <ul class="nav nav-list">
    

    <li><a href="/blog/category/general/">
      General
    </a></li>
    

    <li><a href="/blog/category/software_development/">
      Software development
    </a></li>
    

    <li><a href="/blog/category/training/">
      Training
    </a></li>
    

    <li><a href="/blog/category/testing/">
      Testing
    </a></li>
    

    <li><a href="/blog/category/environments/">
      Environments
    </a></li>
    

    <li><a href="/blog/category/business_development/">
      Business development
    </a></li>
    
  </ul>
</div>


            
<div class="well">
  <h4><i class="icon fa fa-users" title="Authors"></i> Authors</h4>
  <ul class="nav nav-list">
    
    <li><a href="/blog/author/jason-straughan">Jason Straughan</a></li>
    
    <li><a href="/blog/author/jason-ellis">Jason Ellis</a></li>
    
    <li><a href="/blog/author/josh-freeman">Josh Freeman</a></li>
    
    <li><a href="/blog/author/chris-hardee">Chris Hardee</a></li>
    
    <li><a href="/blog/author/john-guest">John Guest</a></li>
    
    <li><a href="/blog/author/anton-domratchev">Anton Domratchev</a></li>
    
    <li><a href="/blog/author/joseph-villafranca">Joseph Villafranca</a></li>
    
    <li><a href="/blog/author/christopher-moeller">Christopher Moeller</a></li>
    
  </ul>
</div>



            <div class="well">
  <h4><i class="icon fa fa-tags" title="Categories"></i> Tags</h4>

  <ul class="nav nav-list">
    
    <li><a href="/blog/tag/grok">Grok</a></li>
    
    <li><a href="/blog/tag/industry">Industry</a></li>
    
    <li><a href="/blog/tag/codeup">Codeup</a></li>
    
    <li><a href="/blog/tag/security">Security</a></li>
    
    <li><a href="/blog/tag/php">Php</a></li>
    
    <li><a href="/blog/tag/phpunit">Phpunit</a></li>
    
    <li><a href="/blog/tag/emacs">Emacs</a></li>
    
    <li><a href="/blog/tag/expression_engine">Expression engine</a></li>
    
    <li><a href="/blog/tag/javascript">Javascript</a></li>
    
    <li><a href="/blog/tag/dom">Dom</a></li>
    
    <li><a href="/blog/tag/jquery">Jquery</a></li>
    
    <li><a href="/blog/tag/git">Git</a></li>
    
    <li><a href="/blog/tag/githooks">Githooks</a></li>
    
    <li><a href="/blog/tag/source_control">Source control</a></li>
    
    <li><a href="/blog/tag/css">Css</a></li>
    
    <li><a href="/blog/tag/rails">Rails</a></li>
    
    <li><a href="/blog/tag/ubuntu">Ubuntu</a></li>
    
    <li><a href="/blog/tag/linux">Linux</a></li>
    
    <li><a href="/blog/tag/developers">Developers</a></li>
    
    <li><a href="/blog/tag/node.js">Node.js</a></li>
    
    <li><a href="/blog/tag/mongodb">Mongodb</a></li>
    
    <li><a href="/blog/tag/javascript">Javascript</a></li>
    
    <li><a href="/blog/tag/socket.io">Socket.io</a></li>
    
    <li><a href="/blog/tag/express.js">Express.js</a></li>
    
    <li><a href="/blog/tag/email">Email</a></li>
    
    <li><a href="/blog/tag/outlook">Outlook</a></li>
    
    <li><a href="/blog/tag/cross_mail_client">Cross mail client</a></li>
    
    <li><a href="/blog/tag/compatibility">Compatibility</a></li>
    
    <li><a href="/blog/tag/mvc">Mvc</a></li>
    
    <li><a href="/blog/tag/object_oriented_programming">Object oriented programming</a></li>
    
    <li><a href="/blog/tag/domain_driven_design">Domain driven design</a></li>
    
    <li><a href="/blog/tag/value_objects">Value objects</a></li>
    
    <li><a href="/blog/tag/types">Types</a></li>
    
  </ul>
</div>


          </div>
        </div>

      </div>
    </div>

  </div>
</div>




    </div>
  </div>

  <footer>
    <div class="container">
      <div class="pull-left">
        <p>&copy; 2013 Grok Interactive, LLC
      </div>
    </div>
  </footer>

  <script type='text/javascript' src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js'></script>

  <script src='/assets/global-5b2d0cc47ae047645ffc10228e2867fb.js' type='text/javascript'></script>

  <script src="//static.getclicky.com/js" type="text/javascript"></script>
  <script type="text/javascript">try{ clicky.init(100585693); }catch(e){}</script>
  <noscript><p><img alt="Clicky" width="1" height="1" src="//in.getclicky.com/100585693ns.gif" /></p></noscript>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-43998305-2', 'grok-interactive.com');
    ga('send', 'pageview');
  </script>
</body>
</html>
